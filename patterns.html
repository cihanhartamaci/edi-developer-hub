<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Integration Patterns | Cihan Hartamaci</title>
    <meta name="description"
        content="Standardized specs for ANSI X12, EDIFACT, and Hybrid Cloud architectures. Explore integration patterns.">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@300;400;600&family=Inter:wght@300;400;600&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
</head>

<body>

    <nav class="top-nav">
        <div class="container nav-container">
            <a href="index.html" class="logo">CH.integrate()</a>
            <div class="nav-links">
                <a href="index.html" class="nav-link">Home</a>
                <a href="patterns.html" class="nav-link active">Patterns</a>
                <a href="tools.html" class="nav-link">Tools</a>
                <a href="insights.html" class="nav-link">Insights</a>
                <a href="expertise.html" class="nav-link">Expertise</a>
                <a href="contact.html" class="nav-link">Contact</a>
                <a href="dashboard.html" class="nav-link" style="color:var(--accent-green);"><i class="fas fa-lock"></i>
                    Dashboard</a>
                <a href="personal/index.html" class="nav-btn-switch">Switch to Personal</a>
            </div>
        </div>
    </nav>

    <main class="container">
        <section class="page-header">
            <h1 class="page-title">> INTEGRATION_PATTERNS</h1>
            <p class="page-subtitle">Standardized visual blueprints for enterprise connectivity.</p>
        </section>

        <!-- Lightbox Overlay -->
        <div id="diagram-lightbox" class="hidden" onclick="closeLightbox()">
            <div id="lightbox-content" onclick="event.stopPropagation()">
                <!-- Cloned SVG goes here -->
            </div>
            <!-- Close Button -->
            <div style="position:fixed; top:20px; right:30px; color:white; font-size:3rem; cursor:pointer;"
                onclick="closeLightbox()">&times;</div>
        </div>

        <div class="grid-cards">
            <!-- Pattern 1: EDI Interaction -->
            <div class="tech-card" style="cursor: zoom-in;" onclick="openLightbox(this)" title="Click to Expand">
                <div
                    style="margin-bottom:1rem; font-family:var(--font-mono); color:var(--text-secondary); font-size:0.8rem;">
                    REF: EDI-STD-01 // ORDER-TO-CASH FLOW</div>
                <h3>Order to Cash (X12)</h3>
                <div class="mermaid">
                    graph LR
                    classDef system fill:#161b22,stroke:#58a6ff,stroke-width:2px,color:#fff
                    classDef process fill:#161b22,stroke:#d29922,stroke-width:2px,stroke-dasharray: 5 5,color:#fff
                    classDef partner fill:#161b22,stroke:#3fb950,stroke-width:2px,color:#fff

                    subgraph Enterprise ["My Enterprise"]
                    A[(ERP System)] -- "JSON Order" --> B[Integration Layer]
                    B -- "Map" --> C{{EDI Translator}}
                    end

                    subgraph External ["Trading Partner"]
                    C -- "850 PO" --> D([Supplier System])
                    D -- "997 ACK" --> C
                    end

                    class A system
                    class B process
                    class C process
                    class D partner
                </div>
            </div>

            <!-- Pattern 2: API Gateway -->
            <div class="tech-card" style="cursor: zoom-in;" onclick="openLightbox(this)" title="Click to Expand">
                <div
                    style="margin-bottom:1rem; font-family:var(--font-mono); color:var(--text-secondary); font-size:0.8rem;">
                    REF: API-GW-02</div>
                <h3>Secure API Gateway</h3>
                <div class="mermaid">
                    graph LR
                    classDef client fill:#05090d,stroke:#f85149,stroke-width:2px,color:#fff
                    classDef gateway fill:#161b22,stroke:#39c5bb,stroke-width:4px,color:#fff
                    classDef service fill:#161b22,stroke:#2f81f7,stroke-width:1px,color:#fff

                    Mobile([Mobile App]) -- "OAuth2" --> GW{{API Gateway}}

                    subgraph Internal ["Microservices Mesh"]
                    GW -- "Validate" --> Auth[Auth Service]
                    GW -- "Proxy" --> Order[Order Service]
                    GW -- "Proxy" --> Inv[Inventory]
                    end

                    class Mobile client
                    class GW gateway
                    class Auth,Order,Inv service
                </div>
            </div>

            <!-- Pattern 3: Hybrid Connectivity -->
            <div class="tech-card" style="cursor: zoom-in;" onclick="openLightbox(this)" title="Click to Expand">
                <div
                    style="margin-bottom:1rem; font-family:var(--font-mono); color:var(--text-secondary); font-size:0.8rem;">
                    REF: HYB-SYNC-03</div>
                <h3>Hybrid Data Sync</h3>
                <div class="mermaid">
                    graph LR
                    classDef legacy fill:#161b22,stroke:#8b949e,stroke-width:2px,color:#fff
                    classDef agent fill:#161b22,stroke:#d29922,stroke-width:2px,color:#fff
                    classDef cloud fill:#161b22,stroke:#3fb950,stroke-width:2px,color:#fff

                    subgraph OnPrem ["On-Premise DC"]
                    DB[(Legacy SQL)] <--> Agent[Connect Agent]
                        end

                        subgraph Cloud ["Cloud Platform"]
                        Agent <--> Bus{{Message Bus}}
                            Bus --> Lake[(Data Lake)]
                            end

                            class DB legacy
                            class Agent agent
                            class Bus,Lake cloud
                </div>
            </div>
        </div>

        <!-- Technical Articles Section -->
        <section style="margin-top: 4rem;">
            <h2 class="mono-font" style="font-size: 1.8rem; margin-bottom: 2rem; color: var(--accent-blue);">>
                INTEGRATION_INSIGHTS</h2>

            <!-- Article 1: EDI Best Practices -->
            <article class="tech-card" style="margin-bottom: 2rem;">
                <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 1rem;">
                    <h3 style="color: var(--accent-blue); font-size: 1.3rem;">EDI Transaction Set Design: Best Practices
                        for X12 and EDIFACT</h3>
                    <span class="mono-tag">STANDARDS</span>
                </div>

                <p style="color: var(--text-secondary); margin-bottom: 1.5rem; line-height: 1.8;">
                    Proper EDI transaction set design is critical for ensuring interoperability between trading
                    partners.
                    Here are proven strategies for building robust EDI implementations.
                </p>

                <h4 style="color: var(--accent-orange); margin-top: 1.5rem; margin-bottom: 0.75rem; font-size: 1.1rem;">
                    1. Standardization Over Customization</h4>
                <p style="line-height: 1.7; margin-bottom: 1rem;">
                    While X12 and EDIFACT standards allow for optional segments and elements, resist the temptation to
                    create
                    heavily customized transaction sets. <strong>Stick to industry-standard implementation
                        guides</strong>
                    (like VICS for retail or CIDX for chemical industry) whenever possible. Custom fields should be
                    documented
                    in detailed implementation guides and shared with all trading partners.
                </p>

                <h4 style="color: var(--accent-orange); margin-top: 1.5rem; margin-bottom: 0.75rem; font-size: 1.1rem;">
                    2. Mandatory vs. Optional Elements</h4>
                <ul style="margin-left: 1.5rem; line-height: 1.8;">
                    <li><strong style="color: var(--accent-green);">ISA/IEA Headers:</strong> Always include full
                        qualifier sets (ISA05, ISA07) for proper routing</li>
                    <li><strong style="color: var(--accent-green);">Functional Groups:</strong> Use GS/GE envelopes even
                        for single-transaction batches</li>
                    <li><strong style="color: var(--accent-green);">Control Numbers:</strong> Implement sequential
                        numbering with proper rollover logic (ISA13, GS06, ST02)</li>
                </ul>

                <h4 style="color: var(--accent-orange); margin-top: 1.5rem; margin-bottom: 0.75rem; font-size: 1.1rem;">
                    3. Validation Layers</h4>
                <pre
                    style="background: rgba(0,0,0,0.4); padding: 1rem; border-radius: 4px; overflow-x: auto; margin: 1rem 0;">
<code style="color: var(--accent-green); font-family: var(--font-mono); font-size: 0.9rem;">// Multi-layer EDI validation approach
1. Syntax Validation → Check segment structure, element count
2. Semantic Validation → Verify business logic (dates, amounts)
3. Partner Validation → Confirm trading partner agreements
4. Data Validation → Validate against internal business rules</code></pre>

                <h4 style="color: var(--accent-orange); margin-top: 1.5rem; margin-bottom: 0.75rem; font-size: 1.1rem;">
                    4. Error Handling Best Practices</h4>
                <p style="line-height: 1.7;">
                    Always generate <code
                        style="background: rgba(255,255,255,0.1); padding: 0.2rem 0.4rem; border-radius: 3px;">997 Functional Acknowledgments</code>
                    for X12 or <code
                        style="background: rgba(255,255,255,0.1); padding: 0.2rem 0.4rem; border-radius: 3px;">CONTRL</code>
                    for EDIFACT.
                    Include detailed error codes (AK403, AK502) to help partners diagnose issues quickly. Implement
                    retry logic with exponential backoff
                    for transient failures.
                </p>
            </article>

            <!-- Article 2: API Design Patterns -->
            <article class="tech-card" style="margin-bottom: 2rem;">
                <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 1rem;">
                    <h3 style="color: var(--accent-blue); font-size: 1.3rem;">RESTful API Design Patterns for
                        Integration Platforms</h3>
                    <span class="mono-tag">API DESIGN</span>
                </div>

                <p style="color: var(--text-secondary); margin-bottom: 1.5rem; line-height: 1.8;">
                    Modern integration platforms require well-designed APIs that are intuitive, scalable, and
                    maintainable.
                    These patterns have proven effective across enterprise integrations.
                </p>

                <h4 style="color: var(--accent-orange); margin-top: 1.5rem; margin-bottom: 0.75rem; font-size: 1.1rem;">
                    Resource-Oriented Design</h4>
                <pre
                    style="background: rgba(0,0,0,0.4); padding: 1rem; border-radius: 4px; overflow-x: auto; margin: 1rem 0;">
<code style="color: var(--accent-green); font-family: var(--font-mono); font-size: 0.85rem;">// Good: Resource-based URIs
GET    /api/v1/orders/{orderId}
POST   /api/v1/orders
PUT    /api/v1/orders/{orderId}/status
DELETE /api/v1/orders/{orderId}

// Avoid: Action-based URIs
POST /api/v1/createOrder  ❌
GET  /api/v1/getOrder    ❌</code></pre>

                <h4 style="color: var(--accent-orange); margin-top: 1.5rem; margin-bottom: 0.75rem; font-size: 1.1rem;">
                    Pagination & Filtering</h4>
                <p style="line-height: 1.7; margin-bottom: 1rem;">
                    For large datasets, implement cursor-based pagination for better performance than offset-based
                    approaches:
                </p>
                <pre
                    style="background: rgba(0,0,0,0.4); padding: 1rem; border-radius: 4px; overflow-x: auto; margin: 1rem 0;">
<code style="color: var(--accent-green); font-family: var(--font-mono); font-size: 0.85rem;">GET /api/v1/transactions?limit=100&cursor=eyJ0aW1lc3...
Response:
{
  "data": [...],
  "pagination": {
    "next_cursor": "eyJpZCI6MTIzNDU2...",
    "has_more": true
  }
}</code></pre>

                <h4 style="color: var(--accent-orange); margin-top: 1.5rem; margin-bottom: 0.75rem; font-size: 1.1rem;">
                    Idempotency Keys</h4>
                <p style="line-height: 1.7;">
                    For <code
                        style="background: rgba(255,255,255,0.1); padding: 0.2rem 0.4rem; border-radius: 3px;">POST</code>
                    requests that create resources,
                    support idempotency keys to prevent duplicate processing in case of network retries.
                    This is critical for payment and order processing integrations.
                </p>

                <pre
                    style="background: rgba(0,0,0,0.4); padding: 1rem; border-radius: 4px; overflow-x: auto; margin: 1rem 0;">
<code style="color: var(--accent-green); font-family: var(--font-mono); font-size: 0.85rem;">POST /api/v1/payments
Headers:
  Idempotency-Key: unique-transaction-id-12345
  
// Subsequent requests with same key return same response
// without creating duplicate payment</code></pre>

                <h4 style="color: var(--accent-orange); margin-top: 1.5rem; margin-bottom: 0.75rem; font-size: 1.1rem;">
                    Versioning Strategy</h4>
                <ul style="margin-left: 1.5rem; line-height: 1.8;">
                    <li><strong style="color: var(--accent-green);">URL Versioning:</strong>
                        <code>/api/v1/resource</code> - Simple and explicit
                    </li>
                    <li><strong style="color: var(--accent-green);">Header Versioning:</strong>
                        <code>Accept: application/vnd.myapi.v2+json</code> - Cleaner URLs
                    </li>
                    <li><strong style="color: var(--accent-green);">Backward Compatibility:</strong> Maintain previous
                        versions for at least 12 months</li>
                </ul>
            </article>

            <!-- Article 3: Event-Driven Architecture -->
            <article class="tech-card" style="margin-bottom: 2rem;">
                <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 1rem;">
                    <h3 style="color: var(--accent-blue); font-size: 1.3rem;">Event-Driven Integration: Pub/Sub vs.
                        Message Queue Patterns</h3>
                    <span class="mono-tag">ARCHITECTURE</span>
                </div>

                <p style="color: var(--text-secondary); margin-bottom: 1.5rem; line-height: 1.8;">
                    Event-driven architectures enable loose coupling and real-time data synchronization across
                    distributed systems.
                    Understanding when to use publish/subscribe vs. message queues is crucial.
                </p>

                <h4 style="color: var(--accent-orange); margin-top: 1.5rem; margin-bottom: 0.75rem; font-size: 1.1rem;">
                    Pub/Sub Pattern (Many Consumers)</h4>
                <p style="line-height: 1.7; margin-bottom: 1rem;">
                    Use publish/subscribe when multiple independent services need to react to the same event:
                </p>
                <pre
                    style="background: rgba(0,0,0,0.4); padding: 1rem; border-radius: 4px; overflow-x: auto; margin: 1rem 0;">
<code style="color: var(--accent-green); font-family: var(--font-mono); font-size: 0.85rem;">Event: order.created
├─> Inventory Service (reduces stock)
├─> Notification Service (sends email)
├─> Analytics Service (tracks metrics)
└─> Accounting Service (creates invoice)</code></pre>

                <h4 style="color: var(--accent-orange); margin-top: 1.5rem; margin-bottom: 0.75rem; font-size: 1.1rem;">
                    Message Queue Pattern (Single Consumer)</h4>
                <p style="line-height: 1.7; margin-bottom: 1rem;">
                    Use message queues when only one consumer should process each message, with guaranteed delivery and
                    ordering:
                </p>
                <pre
                    style="background: rgba(0,0,0,0.4); padding: 1rem; border-radius: 4px; overflow-x: auto; margin: 1rem 0;">
<code style="color: var(--accent-green); font-family: var(--font-mono); font-size: 0.85rem;">Queue: payment_processing
Message: { orderId: 123, amount: 99.99 }
→ One worker processes payment
→ Acknowledgment after successful processing
→ Retry on failure (with dead letter queue)</code></pre>

                <h4 style="color: var(--accent-orange); margin-top: 1.5rem; margin-bottom: 0.75rem; font-size: 1.1rem;">
                    Event Schema Design</h4>
                <ul style="margin-left: 1.5rem; line-height: 1.8;">
                    <li><strong style="color: var(--accent-green);">CloudEvents Standard:</strong> Use standardized
                        envelope format</li>
                    <li><strong style="color: var(--accent-green);">Schema Registry:</strong> Version and validate event
                        payloads</li>
                    <li><strong style="color: var(--accent-green);">Event Sourcing:</strong> Store events as source of
                        truth for system state</li>
                </ul>
            </article>

            <!-- Article 4: Data Transformation -->
            <article class="tech-card" style="margin-bottom: 2rem;">
                <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 1rem;">
                    <h3 style="color: var(--accent-blue); font-size: 1.3rem;">Data Transformation Strategies: Mapping
                        Legacy Systems to Modern APIs</h3>
                    <span class="mono-tag">DATA MAPPING</span>
                </div>

                <p style="color: var(--text-secondary); margin-bottom: 1.5rem; line-height: 1.8;">
                    Bridging legacy systems and modern APIs requires sophisticated data transformation logic.
                    These strategies minimize technical debt while ensuring data integrity.
                </p>

                <h4 style="color: var(--accent-orange); margin-top: 1.5rem; margin-bottom: 0.75rem; font-size: 1.1rem;">
                    Field-Level Transformations</h4>
                <pre
                    style="background: rgba(0,0,0,0.4); padding: 1rem; border-radius: 4px; overflow-x: auto; margin: 1rem 0;">
<code style="color: var(--accent-green); font-family: var(--font-mono); font-size: 0.85rem;">// Legacy System (Fixed-width)
CUST_NAME    : "SMITH    JOHN      "
ORDER_AMT    : "0000099950"       // Cents
SHIP_DATE    : "20231215"

// Modern API (JSON)
{
  "customer": {
    "firstName": "John",
    "lastName": "Smith"
  },
  "amount": 999.50,
  "shipmentDate": "2023-12-15T00:00:00Z"
}</code></pre>

                <h4 style="color: var(--accent-orange); margin-top: 1.5rem; margin-bottom: 0.75rem; font-size: 1.1rem;">
                    Lookup Table Pattern</h4>
                <p style="line-height: 1.7; margin-bottom: 1rem;">
                    When codes differ between systems, maintain lookup tables for bidirectional translation:
                </p>
                <ul style="margin-left: 1.5rem; line-height: 1.8;">
                    <li><strong style="color: var(--accent-green);">Product Codes:</strong> SAP Material # ↔ NetSuite
                        Item ID</li>
                    <li><strong style="color: var(--accent-green);">Location Codes:</strong> Warehouse IDs ↔ EDI
                        Location Qualifiers</li>
                    <li><strong style="color: var(--accent-green);">Status Codes:</strong> Internal workflow states ↔
                        Trading partner statuses</li>
                </ul>

                <h4 style="color: var(--accent-orange); margin-top: 1.5rem; margin-bottom: 0.75rem; font-size: 1.1rem;">
                    Canonical Data Model</h4>
                <p style="line-height: 1.7;">
                    For complex integrations involving multiple systems, define a <strong>canonical data model</strong>
                    as an intermediary format.
                    Each system's adapter transforms to/from this universal format, reducing the number of
                    transformation maps from N² to 2N.
                </p>
            </article>

            <!-- Article 5: Error Handling & Monitoring -->
            <article class="tech-card" style="margin-bottom: 2rem;">
                <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 1rem;">
                    <h3 style="color: var(--accent-blue); font-size: 1.3rem;">Integration Error Handling: Building
                        Resilient Data Pipelines</h3>
                    <span class="mono-tag">RELIABILITY</span>
                </div>

                <p style="color: var(--text-secondary); margin-bottom: 1.5rem; line-height: 1.8;">
                    Production integrations must handle failures gracefully. A well-designed error handling strategy
                    prevents data loss and enables automated recovery.
                </p>

                <h4 style="color: var(--accent-orange); margin-top: 1.5rem; margin-bottom: 0.75rem; font-size: 1.1rem;">
                    Circuit Breaker Pattern</h4>
                <p style="line-height: 1.7; margin-bottom: 1rem;">
                    Prevent cascading failures by implementing circuit breakers for external service calls:
                </p>
                <pre
                    style="background: rgba(0,0,0,0.4); padding: 1rem; border-radius: 4px; overflow-x: auto; margin: 1rem 0;">
<code style="color: var(--accent-green); font-family: var(--font-mono); font-size: 0.85rem;">States:
CLOSED  → Normal operation, requests pass through
OPEN    → Too many failures, reject requests immediately  
HALF-OPEN → Test if service recovered, limited requests

Thresholds:
- Failure rate: 50% over 10 requests
- Open duration: 30 seconds
- Half-open test: 3 requests</code></pre>

                <h4 style="color: var(--accent-orange); margin-top: 1.5rem; margin-bottom: 0.75rem; font-size: 1.1rem;">
                    Dead Letter Queue (DLQ)</h4>
                <p style="line-height: 1.7; margin-bottom: 1rem;">
                    Route failed messages to a DLQ after retry exhaustion. Monitor DLQ depth as a critical metric:
                </p>
                <ul style="margin-left: 1.5rem; line-height: 1.8;">
                    <li><strong style="color: var(--accent-green);">Retry Strategy:</strong> 3 attempts with exponential
                        backoff (1s, 4s, 16s)</li>
                    <li><strong style="color: var(--accent-green);">DLQ Processing:</strong> Manual review or automated
                        reprocessing after fix</li>
                    <li><strong style="color: var(--accent-green);">Alerting:</strong> Trigger PagerDuty when DLQ depth
                        >100 messages</li>
                </ul>

                <h4 style="color: var(--accent-orange); margin-top: 1.5rem; margin-bottom: 0.75rem; font-size: 1.1rem;">
                    Monitoring & Observability</h4>
                <pre
                    style="background: rgba(0,0,0,0.4); padding: 1rem; border-radius: 4px; overflow-x: auto; margin: 1rem 0;">
<code style="color: var(--accent-green); font-family: var(--font-mono); font-size: 0.85rem;">Key Metrics:
├─ Throughput: Messages/second processed
├─ Latency: p50, p95, p99 processing times  
├─ Error Rate: Failed transactions / Total
├─ Queue Depth: Backlog size
└─ Circuit Breaker State: Open/Closed/Half-Open

Logging Strategy:
- Structured JSON logs with correlation IDs
- Full payload logging for failed transactions
- Distributed tracing (OpenTelemetry)</code></pre>

                <h4 style="color: var(--accent-orange); margin-top: 1.5rem; margin-bottom: 0.75rem; font-size: 1.1rem;">
                    Idempotent Processing</h4>
                <p style="line-height: 1.7;">
                    Design integrations to handle duplicate messages safely. Store processed message IDs in a
                    cache/database
                    and skip already-processed messages. This enables safe retries without data corruption.
                </p>
            </article>
        </section>
    </main>

    <!-- Command Palette -->
    <script src="js/cmd-palette.js"></script>
    <script src="js/theme-manager.js"></script>
    <script type="module" src="js/tracker.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
    <script>
        mermaid.initialize({
            startOnLoad: true,
            theme: 'dark',
            fontFamily: 'Fira Code'
        });

        function openLightbox(card) {
            const lightbox = document.getElementById('diagram-lightbox');
            const content = document.getElementById('lightbox-content');
            const originalSvg = card.querySelector('svg');

            if (originalSvg) {
                content.innerHTML = '';

                // Container sizing - large display area
                content.style.width = '90vw';
                content.style.height = '85vh';
                content.style.display = 'flex';
                content.style.alignItems = 'center';
                content.style.justifyContent = 'center';

                const clone = originalSvg.cloneNode(true);

                // Remove restrictive attributes from Mermaid
                clone.removeAttribute('height');
                clone.removeAttribute('width');
                clone.removeAttribute('style');
                clone.removeAttribute('id');

                // KEY FIX: Use auto with max constraints to prevent distortion
                // This allows natural scaling without forcing aspect ratio mismatch
                clone.style.width = 'auto';
                clone.style.height = 'auto';
                clone.style.maxWidth = '90vw';
                clone.style.maxHeight = '80vh';
                clone.style.objectFit = 'contain';

                content.appendChild(clone);
                lightbox.classList.remove('hidden');
            }
        }

        function closeLightbox() {
            document.getElementById('diagram-lightbox').classList.add('hidden');
        }
    </script>
</body>

</html>